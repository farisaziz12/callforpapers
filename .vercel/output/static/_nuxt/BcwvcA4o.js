import{a9 as p,H as v,i as F,j as f}from"#entry";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const h=()=>{};function I(r,i){function o(...t){return new Promise((e,n)=>{Promise.resolve(r(()=>i.apply(this,t),{fn:i,thisArg:this,args:t})).then(e).catch(n)})}return o}function b(r,i={}){let o,t,e=h;const n=u=>{clearTimeout(u),e(),e=h};let m;return u=>{const c=p(r),l=p(i.maxWait);return o&&n(o),c<=0||l!==void 0&&l<=0?(t&&(n(t),t=void 0),Promise.resolve(u())):new Promise((a,d)=>{e=i.rejectOnCancel?d:a,m=u,l&&!t&&(t=setTimeout(()=>{o&&n(o),t=void 0,a(m())},l)),o=setTimeout(()=>{t&&n(t),t=void 0,a(u())},c)})}}function z(r,i=200,o={}){return I(b(i,o),r)}const g=(r,i,o=!0)=>{const t=v("form-events",void 0),e=v("form-group",void 0),n=v("form-inputs",void 0);e&&(!o||r?.legend?e.inputId.value=void 0:r?.id&&(e.inputId.value=r?.id),n&&(n.value[e.name.value]=e.inputId.value));const m=F(!1);function s(a,d){t&&t.emit({type:a,path:d})}function u(){s("blur",e?.name.value),m.value=!0}function c(){s("change",e?.name.value)}const l=z(()=>{(m.value||e?.eagerValidation.value)&&s("input",e?.name.value)},300);return{inputId:f(()=>r?.id??e?.inputId.value),name:f(()=>r?.name??e?.name.value),size:f(()=>{const a=i.size[e?.size.value]?e?.size.value:null;return r?.size??a??i.default?.size}),color:f(()=>e?.error?.value?"red":r?.color),emitFormBlur:u,emitFormInput:l,emitFormChange:c}};export{g as a,h as n,z as u};
