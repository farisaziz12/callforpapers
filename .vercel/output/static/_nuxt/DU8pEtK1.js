import W from"./gG1RCPfX.js";import{_ as J}from"./bGsn5nPx.js";import{C as K,T as Q,_ as X}from"./B2vteQys.js";import{_ as Z}from"./quUXlGIO.js";import{_ as ee}from"./BtcLJeRg.js";import{_ as te}from"./BMUa4Mus.js";import{e as se,u as oe,q as re,i as k,j as B,z as ae,c as m,a as t,b as a,w as r,g as i,o as l,h as f,l as g,F as S,r as T,d as n,t as y,m as F,y as le}from"#entry";import{u as ne}from"./HXyCC8Z1.js";import"./BdmNfycV.js";import"./CEy6y3aN.js";import"./CeKH_CPG.js";import"./BmwIZktb.js";import"./BuV5WqZj.js";import"./BcwvcA4o.js";import"./Dj3WwVQx.js";const ie={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ue={class:"space-y-6"},de={class:"flex items-center gap-2"},ce={class:"space-y-4"},pe={class:"flex flex-wrap gap-2 mb-4"},me={class:"text-gray-500"},fe={class:"flex items-center gap-2"},ve={class:"space-y-4"},ye={class:"flex flex-wrap gap-2 mb-4"},xe={class:"text-gray-500"},ge={class:"flex items-center gap-2"},_e={class:"space-y-4"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"flex items-center justify-between"},he={class:"flex items-center gap-2"},we={class:"space-y-4"},Ce={key:0,class:"text-center py-8"},Se={key:1,class:"space-y-3"},Te={class:"flex-1"},ze={class:"font-medium text-gray-900 dark:text-white"},Ve={class:"flex flex-wrap gap-2 mt-2 text-xs"},Fe={class:"flex gap-2 ml-4"},Ue={class:"flex justify-between items-center pt-4"},Le=se({__name:"preferences",setup(Ae){oe({title:"My Preferences - Call for Papers",meta:[{name:"description",content:"Customize your CFP browsing experience by setting your favorite countries, topics, and formats."}]});const{preferences:_,setCountries:z,setTopics:V,setFormats:U,removeSavedSearch:P}=ne(),N=re(),u=k([]),d=k([]),x=k(new Set),b=k(""),h=k(""),q=[{label:"Conference",value:"conference"},{label:"Workshop",value:"workshop"},{label:"Meetup",value:"meetup"},{label:"Online Event",value:"online"}],$=B(()=>K.filter(s=>!u.value.includes(s))),M=B(()=>Q.filter(s=>!d.value.includes(s)));function j(s){s&&!u.value.includes(s)&&(u.value.push(s),z(u.value),b.value="")}function O(s){u.value.splice(s,1),z(u.value)}function E(s){s&&!d.value.includes(s)&&(d.value.push(s),V(d.value),h.value="")}function I(s){d.value.splice(s,1),V(d.value)}function R(){U(Array.from(x.value))}function G(s){P(s)}function Y(s){const e={};s.filters.q&&(e.q=s.filters.q),s.filters.country&&(e.country=s.filters.country),s.filters.topic&&(e.topic=s.filters.topic),s.filters.format&&(e.format=s.filters.format),s.filters.closesBefore&&(e.closesBefore=s.filters.closesBefore),N.push({path:"/search",query:e})}function D(){u.value=[],d.value=[],x.value=new Set,z([]),V([]),U([])}return ae(()=>{u.value=[..._.value.countries],d.value=[..._.value.topics],x.value=new Set(_.value.formats)}),(s,e)=>{const v=W,p=J,A=X,w=Z,H=ee,C=te;return l(),m("div",ie,[e[20]||(e[20]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," My Preferences "),t("p",{class:"mt-2 text-gray-600 dark:text-gray-300"}," Customize your CFP browsing experience by setting your interests. These preferences will be saved locally in your browser. ")],-1)),t("div",ue,[a(w,null,{header:r(()=>[t("div",de,[a(v,{name:"i-heroicons-map-pin",class:"w-5 h-5"}),e[4]||(e[4]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Favorite Countries ",-1))])]),default:r(()=>[t("div",ce,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Select countries you're interested in attending conferences or events. ",-1)),t("div",pe,[(l(!0),m(S,null,T(i(u),(o,c)=>(l(),f(p,{key:c,variant:"soft",color:"primary",size:"lg",onClick:L=>O(c),class:"cursor-pointer hover:bg-red-100 dark:hover:bg-red-900 transition-colors"},{default:r(()=>[n(y(o)+" × ",1)]),_:2},1032,["onClick"]))),128)),i(u).length===0?(l(),f(p,{key:0,variant:"soft",color:"gray"},{default:r(()=>[...e[5]||(e[5]=[n(" No countries selected ",-1)])]),_:1})):g("",!0)]),a(A,{modelValue:i(b),"onUpdate:modelValue":[e[0]||(e[0]=o=>F(b)?b.value=o:null),j],options:i($),placeholder:"Add a country...",searchable:"","searchable-placeholder":"Search countries...",size:"lg"},{label:r(()=>[t("span",me,[a(v,{name:"i-heroicons-plus",class:"w-4 h-4 inline mr-1"}),e[6]||(e[6]=n(" Add a country ",-1))])]),_:1},8,["modelValue","options"])])]),_:1}),a(w,null,{header:r(()=>[t("div",fe,[a(v,{name:"i-heroicons-tag",class:"w-5 h-5"}),e[8]||(e[8]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Favorite Topics ",-1))])]),default:r(()=>[t("div",ve,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Select topics you're interested in speaking about or learning more about. ",-1)),t("div",ye,[(l(!0),m(S,null,T(i(d),(o,c)=>(l(),f(p,{key:c,variant:"soft",color:"primary",size:"lg",onClick:L=>I(c),class:"cursor-pointer hover:bg-red-100 dark:hover:bg-red-900 transition-colors"},{default:r(()=>[n(y(o)+" × ",1)]),_:2},1032,["onClick"]))),128)),i(d).length===0?(l(),f(p,{key:0,variant:"soft",color:"gray"},{default:r(()=>[...e[9]||(e[9]=[n(" No topics selected ",-1)])]),_:1})):g("",!0)]),a(A,{modelValue:i(h),"onUpdate:modelValue":[e[1]||(e[1]=o=>F(h)?h.value=o:null),E],options:i(M),placeholder:"Add a topic...",searchable:"","searchable-placeholder":"Search topics...",size:"lg"},{label:r(()=>[t("span",xe,[a(v,{name:"i-heroicons-plus",class:"w-4 h-4 inline mr-1"}),e[10]||(e[10]=n(" Add a topic ",-1))])]),_:1},8,["modelValue","options"])])]),_:1}),a(w,null,{header:r(()=>[t("div",ge,[a(v,{name:"i-heroicons-presentation-chart-bar",class:"w-5 h-5"}),e[12]||(e[12]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Favorite Formats ",-1))])]),default:r(()=>[t("div",_e,[e[13]||(e[13]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Select the event formats you prefer. ",-1)),t("div",ke,[(l(),m(S,null,T(q,o=>a(H,{key:o.value,modelValue:i(x),"onUpdate:modelValue":[e[2]||(e[2]=c=>F(x)?x.value=c:null),R],value:o.value,label:o.label},null,8,["modelValue","value","label"])),64))])])]),_:1}),a(w,null,{header:r(()=>[t("div",be,[t("div",he,[a(v,{name:"i-heroicons-bookmark",class:"w-5 h-5"}),e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Saved Searches ",-1))])])]),default:r(()=>[t("div",we,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Your saved search filters will appear here. You can save searches from the search page. ",-1)),i(_).savedSearches.length===0?(l(),m("div",Ce,[a(v,{name:"i-heroicons-bookmark-slash",class:"w-12 h-12 mx-auto text-gray-400 mb-2"}),e[15]||(e[15]=t("p",{class:"text-gray-500 dark:text-gray-400"},"No saved searches yet",-1))])):(l(),m("div",Se,[(l(!0),m(S,null,T(i(_).savedSearches,o=>(l(),m("div",{key:o.id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},[t("div",Te,[t("h3",ze,y(o.name),1),t("div",Ve,[o.filters.q?(l(),f(p,{key:0,variant:"soft",size:"sm"},{default:r(()=>[n(' "'+y(o.filters.q)+'" ',1)]),_:2},1024)):g("",!0),o.filters.country?(l(),f(p,{key:1,variant:"soft",size:"sm"},{default:r(()=>[n(y(o.filters.country),1)]),_:2},1024)):g("",!0),o.filters.topic?(l(),f(p,{key:2,variant:"soft",size:"sm"},{default:r(()=>[n(y(o.filters.topic),1)]),_:2},1024)):g("",!0),o.filters.format?(l(),f(p,{key:3,variant:"soft",size:"sm"},{default:r(()=>[n(y(o.filters.format),1)]),_:2},1024)):g("",!0)])]),t("div",Fe,[a(C,{variant:"ghost",size:"sm",icon:"i-heroicons-arrow-right",onClick:c=>Y(o)},{default:r(()=>[...e[16]||(e[16]=[n(" Go ",-1)])]),_:1},8,["onClick"]),a(C,{variant:"ghost",size:"sm",color:"red",icon:"i-heroicons-trash",onClick:c=>G(o.id)},null,8,["onClick"])])]))),128))]))])]),_:1}),t("div",Ue,[a(C,{variant:"outline",color:"gray",onClick:D},{default:r(()=>[...e[18]||(e[18]=[n(" Clear All Preferences ",-1)])]),_:1}),a(C,{color:"primary",onClick:e[3]||(e[3]=o=>("navigateTo"in s?s.navigateTo:i(le))("/search"))},{default:r(()=>[...e[19]||(e[19]=[n(" Go to Search ",-1)])]),_:1})])])])}}});export{Le as default};
