import{al as o,am as m,y as i,an as n}from"#entry";import{u as d}from"./BBom_UnV.js";const g=o(async(l,c)=>{let a,e;const s=d(),t=m();if(!t.value)return i("/admin/login");const{data:r,error:u}=([a,e]=n(()=>s.from("admin_users").select("id").eq("id",t.value.sub).single()),a=await a,e(),a);if(u||!r)return[a,e]=n(()=>s.auth.signOut()),await a,e(),i("/admin/login")});export{g as default};
